/*! img-stats - v0.1.0 - 2013-02-28
* https://github.com/jlembeck/img-stats
* Copyright (c) 2013 Jeffrey Lembeck; Licensed MIT */
(function(e){"use strict";var t=require("fs"),n=function(e){var t=e.slice(0,16);return t==="89504e470d0a1a0a"},r=function(e){for(var t=0,n=e.length;t<n;t++){var r=e.slice(t,t+2).toString("hex");if(r==="73"){t+=2,r=e.slice(t,t+2).toString("hex");if(r==="76"){t+=2,r=e.slice(t,t+2).toString("hex");if(r==="67")return!0}}}return!1},i=function(e){var t={},n=8;for(var r=e.length;n<r;n++){var i=e.slice(n,n+4).toString("hex");if(i==="49484452"){n+=4;break}}return t.width=parseInt(e.slice(n,n+4).toString("hex"),16),n+=4,t.height=parseInt(e.slice(n,n+4).toString("hex"),16),t},s=function(e){return(e.length===1?"0":"")+e};e.stats=function(e,i){var o={};if(!e)throw new Error("Needs a filename");var u,a=[],f="";if(t.readFileSync)u=t.readFileSync(e),f=u.toString("hex");else{u=t.open(e,"r+b").read();for(var l=0,c=u.length;l<c;l++)a.push(s(u.charCodeAt(l).toString(16)));f=a.join("")}if(n(f)){var h=16,p;for(p=f.length;h<p;h++){var d=f.slice(h,h+8);if(d==="49484452"){h+=8;break}}o.width=parseInt(f.slice(h,h+8).toString(16),16),h+=8,o.height=parseInt(f.slice(h,h+8).toString(16),16),o.type="PNG"}else r(f)&&(o.type="SVG");i(o)}})(typeof exports=="object"&&exports||this);